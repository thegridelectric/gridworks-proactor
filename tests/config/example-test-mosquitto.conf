per_listener_settings true

#################################
# Non-TLS, 'clear' MQTT on port 1883
listener 1883 localhost
allow_anonymous true

#################################
# TLS encrypted MQTT on port 8883
listener 8883 0.0.0.0

# REPLACE these with actual paths to certificate and private key used by mosquitto and to the CA certificate which
# signed those keys.
# These examples show the default location for these files when they are generated by gwcert. Replace
# ABSOLUTE_PATH_TO_HOME with the actual absolute path to the home directory.
certfile ABSOLUTE_PATH_TO_HOME/.local/share/gridworks/ca/certs/mosquitto/mosquitto.crt
keyfile ABSOLUTE_PATH_TO_HOME/.local/share/gridworks/ca/certs/mosquitto/private/mosquitto.pem
cafile ABSOLUTE_PATH_TO_HOME/.local/share/gridworks/ca/ca.crt

use_identity_as_username true
allow_anonymous false
require_certificate true

#################################
# Logging in case something goes wrong with mosquitto container.
#log_dest stderr
#log_type all
